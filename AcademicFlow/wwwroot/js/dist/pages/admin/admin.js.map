{"mappings":"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","sources":["<anon>","js/components/utils.js","js/pages/admin/admin.js"],"sourcesContent":["(() => {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirece5f\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirece5f\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"gymiC\", function(module, exports) {\n\n$parcel$export(module.exports, \"toggleObjectVisibility\", () => $c0d11e7e280cee00$export$114e9912304f10ee);\n//This file is used to store commonly used functions to stay on DRY method\nfunction $c0d11e7e280cee00$export$114e9912304f10ee($form, state) {\n    console.log($form, state);\n    if (state) $form.removeClass(\"d-none\");\n    else $form.addClass(\"d-none\");\n}\n\n});\n\n\nvar $gymiC = parcelRequire(\"gymiC\");\nfunction $59821ac072d2ca01$var$hideAllObjects(containers) {\n    for(const containerName in containers)(0, $gymiC.toggleObjectVisibility)(containers[containerName], false);\n}\nasync function $59821ac072d2ca01$var$getUsersData() {\n    try {\n        const response = await fetch(\"/api/User/GetAllUsers\");\n        const data = await response.json();\n        $59821ac072d2ca01$var$populateTable(data);\n    } catch (error) {\n        console.error(\"Error fetching data:\", error);\n    }\n}\nfunction $59821ac072d2ca01$var$populateTable(users) {\n    const tableBody = document.getElementById(\"userData\");\n    tableBody.innerHTML = \"\";\n    console.log(\"a\");\n    users.forEach((user)=>{\n        const row = document.createElement(\"tr\");\n        row.innerHTML = `\r\n                            <td>${user.id}</td>\r\n                            <td>${user.name}</td>\r\n                            <td>${user.surname}</td>\r\n                            <td>${user.personalCode}</td>\r\n                            <td>${user.email ? user.email : \"\"}</td>\r\n                            <td>${user.phoneNumber ? user.phoneNumber : \"\"}</td>\r\n                            <td>${user.age ? user.age : \"\"}</td>\r\n                        `;\n        tableBody.appendChild(row);\n    });\n}\nfunction $59821ac072d2ca01$var$refreshUsersTable() {\n    $59821ac072d2ca01$var$getUsersData();\n}\n$(document).ready(function() {\n    $(\".js-user-name\").html(`<strong>Name</strong>`);\n    const containers = {\n        $addUser: $(\".add-user-container\"),\n        $allUsers: $(\".user-table\")\n    };\n    $59821ac072d2ca01$var$refreshUsersTable();\n    //Event Listeners\n    $(\".nav-item\").on(\"click\", function() {\n        const self = this;\n        //Styles\n        $(\".nav-item\").find(\".active\").removeClass(\"active\");\n        $(self).find(\".link-dark\").removeClass(\"link-dark\");\n        $(self).find(\".nav-link\").addClass(\"active\");\n        //Logic\n        const selectedEl = $(self).data(\"nav-el\");\n        $59821ac072d2ca01$var$hideAllObjects(containers);\n        switch(selectedEl){\n            case \"allUsers\":\n                (0, $gymiC.toggleObjectVisibility)($(containers.$allUsers), true);\n                $59821ac072d2ca01$var$refreshUsersTable();\n                break;\n            case \"addUser\":\n                (0, $gymiC.toggleObjectVisibility)($(containers.$addUser), true);\n                break;\n            default:\n                $59821ac072d2ca01$var$hideAllObjects(containers);\n                break;\n        }\n    });\n    $(\".js-add-user\").on(\"click\", function(ev) {\n        ev.preventDefault();\n        const $form = $(\"#registerForm\");\n        const formData = {\n            name: $form.find(\"#name\").val().trim(),\n            surname: $form.find(\"#surname\").val().trim(),\n            personalCode: $form.find(\"#personalCode\").val().trim(),\n            email: $form.find(\"#email\").val().trim(),\n            phoneNumber: $form.find(\"#phoneNumber\").val().trim()\n        };\n        {\n            const formData = new FormData($form[0]);\n            console.log(formData);\n            $.ajax({\n                type: \"PUT\",\n                url: \"/api/User/AddUser\",\n                processData: false,\n                contentType: false,\n                data: formData,\n                success: function(response) {\n                    console.log(\"User added successfully\");\n                },\n                error: function(xhr, status, error) {\n                    console.error(\"Error adding user:\", error);\n                }\n            });\n        }\n    });\n});\n\n})();\n//# sourceMappingURL=admin.js.map\n","//This file is used to store commonly used functions to stay on DRY method\r\n\r\nexport function toggleObjectVisibility($form, state) {//State is false -> hide container, State is true -> show container\r\n    console.log($form,state);\r\n    if (state) {\r\n        $form.removeClass('d-none');\r\n    } else {\r\n        $form.addClass('d-none');\r\n    }\r\n}","import { toggleObjectVisibility } from \"./../../components/utils.js\";\r\n\r\nfunction hideAllObjects(containers) {\r\n    for (const containerName in containers) {\r\n        toggleObjectVisibility(containers[containerName], false);\r\n    }\r\n}\r\n\r\nasync function getUsersData() {\r\n    try {\r\n        const response = await fetch(\"/api/User/GetAllUsers\");\r\n        const data = await response.json();\r\n        populateTable(data);\r\n    } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n    }\r\n}\r\n\r\nfunction populateTable(users) {\r\n    const tableBody = document.getElementById(\"userData\");\r\n    tableBody.innerHTML = \"\";\r\n    console.log('a');\r\n    users.forEach(user => {\r\n        const row = document.createElement(\"tr\");\r\n        row.innerHTML = `\r\n                            <td>${user.id}</td>\r\n                            <td>${user.name}</td>\r\n                            <td>${user.surname}</td>\r\n                            <td>${user.personalCode}</td>\r\n                            <td>${user.email ? user.email : \"\"}</td>\r\n                            <td>${user.phoneNumber ? user.phoneNumber : \"\"}</td>\r\n                            <td>${user.age ? user.age : \"\"}</td>\r\n                        `;\r\n        tableBody.appendChild(row);\r\n    });\r\n};\r\n\r\nfunction refreshUsersTable() {\r\n    getUsersData();\r\n};\r\n\r\n$(document).ready(function () {\r\n\r\n    $('.js-user-name').html(`<strong>Name</strong>`);\r\n\r\n    const containers = { $addUser: $('.add-user-container'), $allUsers: $('.user-table') };\r\n\r\n    refreshUsersTable();\r\n    \r\n    //Event Listeners\r\n    $('.nav-item').on('click', function () {\r\n        const self = this;\r\n\r\n        //Styles\r\n        $('.nav-item').find('.active').removeClass('active');\r\n        $(self).find('.link-dark').removeClass('link-dark')\r\n        $(self).find('.nav-link').addClass('active');\r\n\r\n        //Logic\r\n        const selectedEl = $(self).data('nav-el');\r\n        hideAllObjects(containers);\r\n        switch (selectedEl) {\r\n            case 'allUsers':\r\n                toggleObjectVisibility($(containers.$allUsers), true);\r\n                refreshUsersTable();\r\n                break;\r\n            case 'addUser':\r\n                toggleObjectVisibility($(containers.$addUser), true);\r\n                break;\r\n            default:\r\n                hideAllObjects(containers);\r\n                break;\r\n        }\r\n    });\r\n\r\n    \r\n    $('.js-add-user').on('click', function (ev) {\r\n        ev.preventDefault();\r\n        const $form = $('#registerForm');\r\n\r\n        const formData = {\r\n            name: $form.find('#name').val().trim(),\r\n            surname: $form.find('#surname').val().trim(),\r\n            personalCode: $form.find('#personalCode').val().trim(),\r\n            email: $form.find('#email').val().trim(), // Optional (can be null)\r\n            phoneNumber: $form.find('#phoneNumber').val().trim(), // Optional (can be null)\r\n        };\r\n        if (true) {  //TODO add form validation\r\n            const formData = new FormData($form[0]);\r\n            console.log(formData);\r\n            $.ajax({\r\n                type: 'PUT',\r\n                url: '/api/User/AddUser',\r\n                processData: false, // Prevent jQuery from processing data (handled by FormData)\r\n                contentType: false, // Don't set content type header (FormData sets it)\r\n                data: formData,\r\n                success: function (response) {\r\n                    console.log('User added successfully');\r\n                },\r\n                error: function (xhr, status, error) {\r\n                    console.error('Error adding user:', error);\r\n                }\r\n            })\r\n        } else {\r\n            //TODO add form validation errors\r\n        }\r\n        \r\n    });\r\n\r\n});"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$c0d11e7e280cee00$export$114e9912304f10ee","$form","state","console","log","removeClass","addClass","Object","defineProperty","get","set","s","enumerable","configurable","$gymiC","$59821ac072d2ca01$var$hideAllObjects","containers","containerName","toggleObjectVisibility","$59821ac072d2ca01$var$getUsersData","response","fetch","data","json","$59821ac072d2ca01$var$populateTable","users","tableBody","document","getElementById","innerHTML","forEach","user","row","createElement","name","surname","personalCode","email","phoneNumber","age","appendChild","error","$","ready","html","$addUser","$allUsers","on","find","selectedEl","ev","preventDefault","val","trim","formData","FormData","ajax","type","url","processData","contentType","success","xhr","status"],"version":3,"file":"admin.js.map"}